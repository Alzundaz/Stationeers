define FIRSTTARGETPREESSURE 5000
define SECONDTARGETPRESSURE 5000
define THIRDTARGETPRESSURE 5000

alias pressure r0
alias targetPressure r1
alias pumpStatus r2

start:

brdns d0 6
brdns d1 5
alias PipeAnalyzer d0
alias Pump d1
move targetPressure FIRSTTARGETPREESSURE
jal updateStatus

brdns d0 6
brdns d1 5
alias PipeAnalyzer d2
alias Pump d3
move targetPressure SECONDTARGETPRESSURE
jal updateStatus

brdns d0 6
brdns d1 5
alias PipeAnalyzer d4
alias Pump d5
move targetPressure THIRDTARGETPRESSURE
jal updateStatus

yield
j start

updateStatus:

l pressure PipeAnalyzer Pressure
slt pumpStatus pressure targetPressure
s Pump On pumpStatus

j ra
